{% extends "base.html" %}

{% block content %}

<style>
/* Make the table responsive */
table {
  width: 100%;
}

/* Hide the horizontal scrollbar */
.table-responsive {
  overflow-x: hidden;
}

/* Make the table columns wrap to the next line on narrow screens */
@media (max-width: 576px) {
  table tr td,
  table tr th {
    white-space: nowrap;
  }

  table tr td:last-child,
  table tr th:last-child {
    white-space: normal;
  }
}

.flexible{
  display: flex;
  flex-direction: column;

  justify-content: space-between;    
}
.flexible a{

  margin: 2px 0;
  
}
</style>
      <!-- partial -->
      <div class="main-panel">
        <div class="content-wrapper">
          <div class="row">
            <div class="col-lg-12 grid-margin stretch-card">
              <div class="card">
                <div class="card-body">
                  <div class="d-flex justify-content-between">
                    <h4 class="card-title card-title-dash">All Users List</h4>
                    <!-- <a href="add-user-form.html" class="btn btn-primary btn-sm text-white" type="button"><i class="mdi mdi-account-plus"></i></a> -->
                  </div>
      
                  <div class="table-responsive">
                    <table class="table table-striped">
                      <thead>
                        <tr>
                          <th>
                            User
                          </th>
                          <th>
                            Username
                          </th>
                          <th>
                            Action
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        {% for user in users %}
                        <tr>
                          <td class="py-1">
                            <img src="/static/images/user.png" alt="image"/>
                          </td>
                          <td>
                            {{ user.username }}
                          </td>
                          <td class="flexible">
                            {% if request.user.is_superuser %}
                            <a href="/list-user-profile/{{user.id}}" class="text-success me-2">Profile</a>
                            <a href="/delete-user/{{user.id}}" class="text-danger">Delete</a>
                            {% else %}
                            <i class="text-danger me-2">No permission </i>     
                            {% endif %}
                          </td>
                        </tr>
                        {% endfor %}
                      </tbody>
                    </table>
                  </div>
                  
                </div>
              </div>
            </div>
          </div>
        </div> <!-- content-wrapper ends -->
      </div> <!-- main-panel ends -->
      
    </div>
  </div>
  <!-- container-scroller -->

  {% endblock %}